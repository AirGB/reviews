  config:
    target: "http://localhost:3002"
    phases:
      - duration: 60
        arrivalRate: 1
    variables:
      listingid:
        - [9999999, 9999998, 9999997, 9999996, 9999995]
    payload:
      path: "postreviews.csv"
      fields:
        - "listing_id"
        - "user_id"
        - "accuracy"
        - "communication"
        - "cleanliness"
        - "location"
        - "check_in"
        - "is_value"
        - "review_date"
        - "content"
        - "is_reported"
  scenarios:
    - name: "virtual users for post requests in 60 secs"
      flow:
        - post:
            url: "/api/listing/newreview"
            json:
              listing_id: "{{ listing_id }}"
              user_id: "{{ user_id }}"
              accuracy: "{{ accuracy }}"
              communication: "{{ communication }}"
              cleanliness: "{{ cleanliness }}"
              location: "{{ location }}"
              check_in: "{{ check_in}}"
              is_value: "{{ is_value }}"
              review_date: "{{ review_date }}"
              content: "{{ content }}"
              is_reported: "{{ is_reported }}"
      weight: 2
    - name: "Getting ratings"
      flow:
      - loop:
        - get:
            url: "/api/listing/{{$loopElement}}/overview"
        over: "listingid"
        weight: 8
